<div>
  <h1>Gestionnaire de T√¢ches</h1>

  <div>
    <h2>Ajouter une nouvelle t√¢che</h2>

    <div>
      <label for="description">Description:</label>
      <input
        type="text"
        id="description"
        [(ngModel)]="nouvelleDescription"
        name="description"
        placeholder="Entrez la description de la t√¢che">
    </div>

    <div>
      <label for="priorite">Priorit√©:</label>
      <select
        id="priorite"
        [(ngModel)]="nouvellePriorite"
        name="priorite">
        <option value="basse">Basse</option>
        <option value="moyenne">Moyenne</option>
        <option value="haute">Haute</option>
      </select>
    </div>

    <button (click)="addTache()">Ajouter la t√¢che</button>
  </div>

  <div>
    <h2>Mes t√¢ches</h2>

    <div *ngIf="taches.length > 0; else pasDeTaches">
      <div *ngFor="let tache of taches" [ngClass]="{ 'tache-complete': tache.statut }">
        <div>
          <input
            type="checkbox"
            [(ngModel)]="tache.statut"
            name="statut-{{ tache.id }}">

          <span
            [ngClass]="{ 'strikethrough': tache.statut }"
            [ngStyle]="{ color: getPrioriteColor(tache.priorite) }">
            {{ tache.description }}
          </span>

          <span
            [ngStyle]="{ 
              color: getPrioriteColor(tache.priorite),
              borderColor: getPrioriteColor(tache.priorite),
              backgroundColor: getPrioriteColor(tache.priorite) + '15'
            }">
            {{ tache.priorite | uppercase }}
          </span>
        </div>

        <div>
          <span>{{ tache.dateCreation | date: 'dd/MM/yyyy' }}</span>

          <div>
            <button
              (click)="toggleTache(tache.id)"
              [ngClass]="{ 'btn-complete': tache.statut, 'btn-pending': !tache.statut }">
              {{ tache.statut ? '‚úì Compl√©t√©e' : '√Ä faire' }}
            </button>

            <button (click)="deleteTache(tache.id)">Supprimer</button>
          </div>
        </div>
      </div>
    </div>

    <ng-template #pasDeTaches>
      <div>
        <div>üìã</div>
        <h3>Vous n'avez pas de t√¢ches en cours</h3>
        <p>Cr√©ez une nouvelle t√¢che pour commencer √† organiser votre travail!</p>
        <div>
          <p><strong>Suggestions:</strong></p>
          <ul>
            <li>Planifiez vos t√¢ches quotidiennes</li>
            <li>D√©finissez les priorit√©s de votre travail</li>
            <li>Suivez votre progression</li>
          </ul>
        </div>
      </div>
    </ng-template>
  </div>
</div>
