<div class="taches-container">
  <h1>Gestionnaire de T√¢ches</h1>

  <!-- Formulaire d'ajout de t√¢che -->
  <div class="add-tache-form">
    <h2>Ajouter une nouvelle t√¢che</h2>

    <div class="form-group">
      <label for="description">Description:</label>
      <input
        type="text"
        id="description"
        [(ngModel)]="nouvelleDescription"
        name="description"
        placeholder="Entrez la description de la t√¢che"
        class="input-field">
    </div>

    <div class="form-group">
      <label for="priorite">Priorit√©:</label>
      <select
        id="priorite"
        [(ngModel)]="nouvellePriorite"
        name="priorite"
        class="select-field">
        <option value="basse">Basse</option>
        <option value="moyenne">Moyenne</option>
        <option value="haute">Haute</option>
      </select>
    </div>

    <button (click)="addTache()" class="btn-add">Ajouter la t√¢che</button>
  </div>

  <!-- Liste des t√¢ches -->
  <div class="taches-list">
    <h2>Mes t√¢ches</h2>

    <!-- Affichage conditionnel avec *ngIf...else -->
    <div *ngIf="taches.length > 0; else pasDeTaches">
      <!-- Liste des t√¢ches avec ngFor -->
      <div *ngFor="let tache of taches" class="tache-item" [ngClass]="{ 'tache-complete': tache.statut }">
        <div class="tache-content">
          <input
            type="checkbox"
            [(ngModel)]="tache.statut"
            name="statut-{{ tache.id }}"
            class="tache-checkbox">

          <!-- Description avec strikethrough si compl√©t√©e -->
          <span
            class="tache-description"
            [ngClass]="{ 'strikethrough': tache.statut }"
            [ngStyle]="{ color: getPrioriteColor(tache.priorite) }">
            {{ tache.description }}
          </span>

          <!-- Badge de priorit√© -->
          <span
            class="priorite-badge"
            [ngStyle]="{ 
              color: getPrioriteColor(tache.priorite),
              borderColor: getPrioriteColor(tache.priorite),
              backgroundColor: getPrioriteColor(tache.priorite) + '15'
            }">
            {{ tache.priorite | uppercase }}
          </span>
        </div>

        <div class="tache-meta">
          <span class="tache-date">{{ tache.dateCreation | date: 'dd/MM/yyyy' }}</span>

          <div class="tache-actions">
            <button
              (click)="toggleTache(tache.id)"
              [ngClass]="{ 'btn-complete': tache.statut, 'btn-pending': !tache.statut }"
              class="btn-toggle">
              {{ tache.statut ? '‚úì Compl√©t√©e' : '√Ä faire' }}
            </button>

            <button (click)="deleteTache(tache.id)" class="btn-delete">Supprimer</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Template alternatif quand il n'y a pas de t√¢ches -->
    <ng-template #pasDeTaches>
      <div class="no-taches">
        <div class="empty-icon">üìã</div>
        <h3>Vous n'avez pas de t√¢ches en cours</h3>
        <p>Cr√©ez une nouvelle t√¢che pour commencer √† organiser votre travail!</p>
        <div class="empty-suggestions">
          <p><strong>Suggestions:</strong></p>
          <ul>
            <li>Planifiez vos t√¢ches quotidiennes</li>
            <li>D√©finissez les priorit√©s de votre travail</li>
            <li>Suivez votre progression</li>
          </ul>
        </div>
      </div>
    </ng-template>
  </div>
</div>
